{% extends 'base.html' %}

{% block title %}Página de Intercambio (DEBUGGING){% endblock %}

{% block content %}
    <!-- ============================================== -->
    <!-- DEBUGGING: INICIO DE CONTENIDO ESPECÍFICO (BLOCK CONTENT) -->
    <!-- Si ves este mensaje, la herencia de base.html está funcionando. -->
    <!-- ============================================== -->

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 mt-16 bg-white shadow-lg rounded-xl">
        <h2 class="text-3xl font-bold text-gray-800 mb-4">Página Swap/Donación</h2>
        
        <p class="text-xl font-semibold text-green-600 mb-6">
            PUNTO DE CONTROL 1: ¡El bloque 'content' se está renderizando correctamente!
        </p>

        <p class="text-gray-700">
            A continuación se carga el contenedor para el widget de React y se cargan sus dependencias (Tailwind, React, Babel).
        </p>

        <!-- Contenedor del Widget de Donación (React) -->
        <div id="root" class="py-12 border-t mt-6 pt-6 border-gray-200">
            <div class="text-center p-10 text-xl font-mono text-klv-blue animate-pulse">
                Cargando el Widget de React...
            </div>
        </div>
    </div>
    
    <!-- ============================================== -->
    <!-- DEBUGGING: FIN DE CONTENIDO ESPECÍFICO -->
    <!-- ============================================== -->

    <!-- Dependencias de Frontend para el Widget (solo se cargan aquí) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'klv-green': '#00B894',
              'klv-dark': '#1C1C1C',
              'klv-blue': '#2152ff',
            }
          }
        }
      }
    </script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
{% endblock %}

{% block javascripts %}
    <!-- La lógica de React completa que define la función "App" y la renderiza -->
    <script type="text/babel">
        // Manteniendo el código simplificado para el enfoque en la herencia:
        const App = () => (
            <div className="bg-gray-50 font-sans antialiased min-h-screen flex items-center justify-center p-4">
                <div className="p-10 bg-white rounded-xl shadow-xl">
                    <h1 className="text-2xl font-bold text-klv-green">Widget de React Cargado!</h1>
                    <p className="text-gray-600">Si ves este mensaje, React y Babel están OK. Ahora reiniciaremos el código original.</p>
                </div>
            </div>
        );

        const container = document.getElementById('root');
        if (container) {
             const root = ReactDOM.createRoot(container);
             root.render(<App />);
        }
       
    </script>
{% endblock %}
